# 作業 5 報告

> 學生：趙益揚
>
> 學號：0856058

## 作業 5 心得

整個行為因為走 stack machine 的模式以及只需處理整數的部分，所以指令的產生其實都蠻直觀。以下記錄比較複雜的部分：

- 函式參數：
	- 因為 RISC-V 用來傳參數的暫存器只有 a0-a7 共八個，所以要特別處理超過八個的參數傳遞機制，目前是放在 stack 上，並在函式呼叫回到 caller 時整理乾淨。
- 流程控制（標籤跳轉）：
	- 因為沒有特別設計類似 IR 類的結構，所有指令都是遇到對應的 construct 就直接輸出到輸出檔案裡面，所以遇到流程控制這種比較複雜（有需要回頭插入一些指令在前面的 basic block 的可能）就沒辦法處理。目前也沒有處理，因為並沒有這樣的測資，加上時間有點趕 XD 或許助教可以考慮加入巢狀的 compound statement, if/while/for statement 等等跟建立 basic block 有關的陳述式，來增添作業風味（或是當 bonus 就好），感受一下產生指令的其中一個小小困難之處。

## 整學期編譯器作業心得

- 範例程式碼要重新弄一份才行 QQ 去年的我寫得有點不行。
- 作業五覺得內容編排可以再修改一下，之前都沒寫過，這次走一次覺得前面有點卡。
- 前面幾份作業也要再找時間看一下報告，看有沒有需要改進的地方，希望畢業前能同步完成 XD
